<?php

namespace Tests\Feature;

use App\Http\Livewire\ClusterSearch;
use App\Http\Livewire\PandemicVaccination\DisplayMore;
use App\Http\Livewire\PandemicVaccination\FullVaxByMonth;
use App\Http\Livewire\PandemicVaccination\HighLowVaxTakenWeekly;
use App\Http\Livewire\PandemicVaccination\Vaccination;
use App\Http\Livewire\PandemicVaccination\VaxTakenWeekly;
use Tests\TestCase;

class AllPublicRouteOpenTest extends TestCase
{
    public function test_can_open_pandemic()
    {
        $response = $this->get(route('pandemic.index'));

        $response->assertOk();
        $response->assertViewIs('pandemic.index');
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicDashboard\Head::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicDashboard\Malaysia::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicDashboard\CasesState::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicDashboard\VaxState::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicDashboard\HealthCareState::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicDashboard\Graph::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicDashboard\About::class);
    }


    public function test_can_open_offline_page()
    {
        $response = $this->get('offline');

        $response->assertOk();
        $response->assertViewIs('laravelpwa::offline');
    }

    public function test_can_open_pandemic_cluster()
    {
        $response = $this->get(route('pandemic.clusters'));

        $response->assertOk();
        $response->assertViewIs('pandemic.cluster');
        $response->assertSeeLivewire(ClusterSearch::class);
    }

    public function test_can_open_pandemic_state()
    {
        $response = $this->get(route('pandemic.state'));

        $response->assertOk();
        $response->assertViewIs('pandemic.state');
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicState\Head::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicState\Dashboard::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicState\HealthCare::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicState\Graph::class);
    }

    public function test_can_open_pandemic_vaccination()
    {
        $response = $this->get(route('pandemic.vaccination'));

        $response->assertOk();
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicVaccination\Vaccination::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicVaccination\DisplayMore::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicVaccination\FullVaxByMonth::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicVaccination\HighLowVaxTakenWeekly::class);
        $response->assertSeeLivewire(\App\Http\Livewire\PandemicVaccination\VaxTakenWeekly::class);
    }
}
